<nav>
  <div class="logo"></div>
  <p>Universo de Páginas</p>
  <ul>
    <li>
      <a href="/inicio">Inicio</a>
    </li>
    <li>
      <a href="/api/products">Productos</a>
    </li>
    <li>
      <a href="/api/users/profile">Usuario</a>
    </li>
    <li>
      <a href="/api/users/logout">Cerrar sesión</a>
    </li>
  </ul>
</nav>

<main>
<h1>Lista de Usuarios</h1>

<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Email</th>
      <th>Rol Actual</th>
      <th>Ultima conexion</th>
      <th>Actualizar Rol</th>
      <th>Eliminar Usuario</th>
    </tr>
  </thead>
  <tbody>
    {{#each users}}
      <tr>
        <td>{{name}}</td>
        <td>{{email}}</td>
        <td>{{role}}</td>
        <td>{{last_connection}}</td>
       <td>
            <form action="/api/users/change-role/{{_id}}" method="POST">
                <select name="newRole">
                    <option value="user" {{#if this.isUserRole}}selected{{/if}}>User</option>
                    <option value="admin" {{#if this.isAdminRole}}selected{{/if}}>Admin</option>
                    <option value="premium" {{#if this.isPremiumRole}}selected{{/if}}>Premium</option>
                </select>
                <button type="submit">Actualizar</button>
            </form>
        </td>
        <td>
            <form action="/api/users/delete" method="POST">
                <button type="submit">Eliminar Usuario</button>
            </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>


<h3>Opciones de Administrador</h3>
<div class="containerBotones">
    <a href="/addProducts" class="boton">Agregar Productos</a>
    <form action="/api/users/deleteOldUsers" method="POST">
      <button type="submit" class="boton">Eliminar usuarios inactivos</button>
    </form>
</div>

</main>

<footer>
  <p>Lissett Leal 2024</p>
  <div class="contactos">
    <a href="https://github.com/lissleal">
      <i class="fa-brands fa-github"></i>
    </a>
    <a href="">
      <i class="fa-solid fa-briefcase"></i>
    </a>
    <a href="https://www.linkedin.com/in/lissett-leal/">
      <i class="fa-brands fa-linkedin"></i>
    </a>
  </div>
  <p>Realizado con fines educativos</p>
</footer>

<link rel="stylesheet" type="text/css" href="/css/style.css" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>